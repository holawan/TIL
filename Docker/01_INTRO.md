# Intro

## 강의 흐름 

- Docker는 환경을 많이 탄다.

- 윈도우 /맥에서도 Docker 테스트가 가능하지만, 결국 서비스를 위해서는 리눅스 서버를 만들고, docekr 셋업을 해야 함
- 따라서, Docker for Mac, Docker for Windows, 리눅스상의 docker 설치 방법을 공유함
    - 하지만 주 테스트는 **실제 서비스 런칭이 목표**이기 때문에 리눅스 상에서 Docker 작업을 진행

> 이를 위해 AWS 무료 서버 설치, 리눅스 사용법, 웹서버 기본부터 설명

- 이후, Docker 주요 명령, Dockerfile 주요 명령, Docker Compose 주요 명령과 기능에 대해 
    - 이해하기 쉽게 만든 테스트 예제와 함께 하나씩 테스트하며 익힘
    - 현업에서 실제 docker 작업 시 많이 사용하는 명령들도 포함해서 꼭 필요한 기능들은 대부분 익힘
- 이후, 실제 매우 복잡한 실제 서비스 구현 예를 처음부터 끝까지 만들어보도록 함

> 초대용량 서비스는 서버도 여러대 필요하므로, 무료 서버에서는 불가능함
>
> 따라서, 하나의 서버에 약 7개의 각 기능을 하는 도커가 구성되어, 바로 서비스 가능한 수준으로 구현

#### Docker 기술은 프로그래밍 역량과는 다른 역량이 필요함

- 꼼꼼하게 실수가 없는지 살피는 역량 ! 
    - 다양한 환경 셋팅이 완벽히 맞아야 하기 때문이다.



## 최신 서버 기술 큰 그림과 로드맵 이해하기

- 서버는 24시간 구동이 필요하며, 특정 목적으로 사용되는 프로그램이 많음 (웹서버)
- 다양한 리눅스 패키지와 업데이트로, 프로그램 설정 등이 수시로 달라짐
- 서버 이전시 이전할 서버에 맞도록 재설정 필요

- **Docker 출현**
    - 도커는 일종의 서버환경을 감싸서, 도커 레벨로 서버를 다룰 수 있음
        - 따라서, 서버 이전, 서버 패키지 버전 변경 등등으로 일일이 서버 설정을 할  필요가 없음
        - 단순히 도커를 만들고, 서버에서 실행하면 됨 

### 웹 서비스 개발과 마이크로 서비스

- 모놀리틱 구조

    > 처음에는 하나의 서버에 모든 기능을 넣었음

    - 1세대 : USER ---- INTERNET --- WEB SERVER (Read static HTML)
    - 2세대 : USER ---- INTERNET --- WEB SERVER (Create request-based HTML from CGI + DB)
    - 3세대 : USER ---- INTERNET --- WEB SERVER MVC 패턴 기반 프레임워크의 활용
        - MVC : Model - View - Control 패턴으로 구조화된 프레임워크를 사용, 빠르게 다양한 기능을 제공 
    
- 마이크로 서비스

    > 서비스가 방대해짐에 따라, 하나의 서버에 모아놓으면, 특정 기능의 문제로 전체 시스템에 장애 발생

- 여러 서버에 각 기능을 분산해놓은 후, REST API 등으로 통신을 통해 전체 서비스를 운영 



### Devops

> 서비스가 방대해짐에 따라, 조직 운영도 바꿔야할 필요가 생김

- 기존 서비스 조직

    - 개발팀
    - 운영팀

    > 개발은 언제나 소통이 안됨

- 마이크로 서비스 조직은 각 조직이 각각의 세부 서비스를 담당하고, 수시로 릴리즈

#### 문제 상황 

- 세부 서비스가 다운되면? 운영팀은 ?

    - 이 서비스 뭐하는거지?
    - 어떤 개발자가 잘못 release 했어?
    - 개발 이 멍청한 자식들~~

- 개발팀과 운영팀의 비효율

    - 개발팀 : 앞으로 release 자주 안해야겠다.
    - 운영팀 : 미리 완벽히 검증해서, 최대한 릴리즈를 막아야겠다.

    > 개발팀과 운영팀원들 모두 " 고객은 빠른 신규 서비스 제공을 원하는데..."

- 본래 새로운 기능을 릴리즈하면, 개발팀이 운영팀에게 어떻게 운영할지 알려줘야 함
    - micro features 라면 많은 기능을 제대로 알려주기 어렵고
    - 운영이 잘 안될 경우, 이 부분은 개발팀 역할이 아니므로 운영팀에 제대로 알려주지 않는 경우가 많음
- 수많은 micro features를 운영팀이 제대로 이해하고 대응하지 않으면?
    - 서비스 다운 또는 비정상 동작으로 고객 경험 극도로 저하
- 수많은 micro features와 수많은 user
    - 엄청난 트래픽을 버텨낼 시스템과 운영팀 필요 

#### 해결 방안

- 개발자가 운영팀에 들어가면?

    - 운영효율적인 시스템 개발
    - 운영을 자동화시켜서 운영팀 인력 효율화 가능
    - 운영/개발 전체 이해/소통이 쉬움

    > but, 들어가고자 하는 인원이 없음 

##### Devops 등장

- 운영 + 운영 시스템 효율화/자동화 프로젝틀르 목표로 부여 ! 
    - 개발자가 목표를 가지고 개발을 할 수 있음(난 개발을 좋아해!)
    - 개발자는 micro features에 대해서도 빠르게 이해할 수 있음 ( 다양한 기술 습득 가능 )
- Release System 자동화
- 코드리뷰, 테스트 자동화
- 서비스 모니터링 시스템
- 이슈 발생시 커뮤니케이션 시스템



### 마이크로 서비스와 DevOps, 그리고 도커

- 각 마이크로 서비스를 도커로 개발 
    - 도커 개발
- 초대용량 서비스 유지보수를 위한 서버 핸들링 필요 (예: 네트워크 트래픽에 따른 서버 관리)
    - 쿠버네티스 개발
- 수시 릴리즈를 지원하기 위한 배포 시스템
    - 개발자가 git에 신규 코드를 릴리즈하면,
    - Jenkins/Travis CI 등으로 서버 자동 재가동
        - 배포 자동화
- 수시 릴리즈시, 서비스는 중단되지 않았으면 좋겠음
    - 무중단 배포

> 쿠버네티스/무중단 배포도 결국 도커가 기본이자 핵심, 따라서 도커 기본기를 탄탄히 갖춘 후, DevOps 전문가를 원하면, 추가로 관련 기술을 익히면 됨
>
> 초대용량 서비스가 아니면, 간단히 강의를 듣고 서버 배포/이전 가능 



## 리눅스 역사

### 리눅스

- 서버에 많이 사용되는 유닉스 계열에 운영체제
- 웹 브라우저(클라이언트)와 Server간 HTML 파일 요청 및 전달 
- 최근 서버 환경은 주로 리눅스 

- 프로그래밍을 할 때에도 많이 사용됨
- 클라우드 컴퓨팅 (AWS)

#### 리눅스 시작

- 리눅스 토발즈(Linus Torvalds)가 개발
    - 대학에 있는 UNIX 컴퓨터를 집에서 쓰고 싶다.
    - 다중 사용자, 다중 작업(시분할 시스템, 멀티 태스킹)을 지원하는 유닉스(UNIX)와 유사한 운영체제

### GNU 프로젝트

- GNU = Gnu is Not Unix
- 유닉스 운영체제를 여러 회사에서 각자 개발, 소스를 공유하지 않는 문화에 반발
- 리차드 스톨만 : 초기 컴퓨터 개발 공동체의 상호 협력적 문화로 돌아갈 것을 주장하며, 1985년도에 GNU 선언문을 발표
- GNU 프로젝트를 지원하기 위해 자유 소프트웨어 재단(FSF) 설립과, GNU 공개 라이선스(GPL)라는 규약을 제공 

#### GPL 라이선스

- GPL 프로그램은 어떤 목적으로, 어떤 형태로든 사용할 수 있지만, 사용하거나 변된 프로그램을 다시 배포하는 경우, 동일한 GPL 라이선스로 공개를 해야 함
- 소스 오픈을 장려하기 위함

#### GNU 프로젝트와 GNU Hurd

- 운영체제 커널 개발 시도 -GNU Hurd
- 운영체제에 필요한 라이브러리, 컴파일러, 에디터, 쉘 개발 



## 학습 효과를 10배 높이는 팁 

1. 강의와 강사를 신뢰하기
2. 차근차근 듣기
    - Docker는 폴더 경로, 환경설정까지 완벽히 맞아야 동작함
    - 정상 동작이 안되면
        - 제공한 파일을 다시 다운받기
        - 다시 영상을 보며 비교하기
        - 처음부터 설정하기
    - 그래도 안되면 검색하기 
3. 검색은 개발자로써의 필수 역량
4. 다른 사람의 질문에 답변하기 

