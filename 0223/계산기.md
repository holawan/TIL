## 스택을 이용한 중위 → 후위 표기법 변환 알고리즘 / p5

- 토큰

  `isp` : in-stack priority. stack안에 있을 때의 우선순위

  `icp` : in-coming priority, stack으로 들어올 때의 우선순위

  스택으로 들어올 토큰의 `icp`와 스택에 존재하는 토큰의 `isp`를 비교

  | 토큰 | isp  | icp  |
  | ---- | ---- | ---- |
  | )    | -    | -    |
  | *, / | 2    | 2    |
  | +, - | 1    | 1    |
  | (    | 0    | 3    |

1. 변환할 중위 표기식을 순회한다. 이때 순회하는 원소를 토큰이라고 하자

2. 토큰이 피연산자일 경우

   → 토큰을 `결과에  push`

3. 토큰이 연산자일 경우

   1. stack이 비어있으면 `stack에 push`

   2. 스택으로 들어올 토큰의 `icp` > 스택 top에 존재하는 토큰의 `isp`
       → `stack에 push`

   3. 스택으로 들어올 토큰의 `icp` ≤ 스택 top에 존재하는 토큰의 `isp`

      → b를 만족할 때까지 `stack에서 pop`한 토큰을 `결과에 push`

      → b를 만족하면 스택으로 들어올 토큰을 `stack에 push`

   4. 스택으로 들어올 토큰이 `)`

      → `(`를 만날때 까지 `stack에서 pop`한 토큰을 `결과에 push`

      → `(`는 `stack에서 pop`, 결과에 push는 하지 않음

4. 순회를 마치면 stack이 비어있을 때까지

   → `stack에서 pop`한 토큰을 `결과에 push`





## 후위 표기법 계산하기

1. 후위 표기식을 순회한다. 이때 순회하는 원소를 토큰이라고 하자

2. 토큰이 피연산자일 경우

   → 토큰을 `stack에 push`

3. 토큰이 연산자일 경우

   → 2항 연산자이므로 stack에 저장되어 있는 `2개의 피연산자를 pop`하여 연산 후 `stack에 push`

   이때, `-`, `/` 연산은 계산 순서에 주의

4. 순회를 마치면

   → `stack에서 pop`